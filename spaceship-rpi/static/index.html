<html>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/control-panel.js"></script>
<script src="js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">


<body>

<div class="col-xs-12" style="height:50px;"></div>

<div class="row">
        <div class="col-md-9 col-md-8 col-md-offset-2" role="main">
		
<div class="panel panel-primary">
<div class="panel-heading">
    <h3 class="panel-title">Spaceship Control</h3>
  </div>
  <div class="panel-body">
<div class="btn-group" role="group" aria-label="...">
  <button type="button" id="on" class="btn btn-default">On</button>
  <button type="button" id="sound" class="btn btn-default">Sound</button>
  <button type="button" id="lights" class="btn btn-default">Lights</button>
</div>

<div class="btn-group" role="group" aria-label="...">
  <button type="button" id="refresh" class="btn btn-success">Refresh</button>
</div>

  </div>
</div>


<div class="panel panel-primary">
	<div class="panel-heading">
		<h3 class="panel-title">Fuel and Oxygen</h3>
	</div>
	<div class="panel-body">
		<div class="panel">
			<div class="btn-group" role="group" aria-label="...">
				<button type="button" id="fuel" class="btn btn-default">Fuel</button>
			</div>
		</div>
		
		<div class="panel">
			<div class="progress">
				<div id="fuel-level" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 30%;">
				30%
				</div>
			</div>
		</div>

		<div class="panel">
			<div class="btn-group" role="group" aria-label="...">
				<button type="button" id="oxygen" class="btn btn-default">Oxygen</button>
			</div>
		</div>

		<div class="panel">
			<div class="progress">
				<div id="oxygen-level" class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
				60%
				</div>
			</div>
		</div>
	</div>
</div>	
		
<div class="panel panel-primary">
<div class="panel-heading">
    <h3 class="panel-title">Motors Control</h3>
  </div>
  <div class="panel-body">
<div class="btn-group" role="group" aria-label="...">
  <button type="button" id="right-engine" class="btn btn-default">Start Right</button>
  <button type="button" id="right-engine-release" class="btn btn-default">Stop Right</button>
</div>
	<div class="btn-group" role="group" aria-label="...">
  <button type="button" id="left-engine" class="btn btn-default">Start Left</button>
  <button type="button" id="left-engine-release" class="btn btn-default">Stop Left</button>
		</div>
		<div class="btn-group" role="group" aria-label="...">
  <button type="button" id="stop-engines" class="btn btn-default">Stop All</button>
</div>
</div>
</div>

<div class="panel panel-primary">
<div class="panel-heading">
    <h3 class="panel-title">Up/Down Control</h3>
  </div>
  <div class="panel-body">
<div class="btn-group" role="group" aria-label="...">
  <button type="button" id="down" class="btn btn-default">Down</button>
  <button type="button" id="up" class="btn btn-default">Up</button>
</div>
</div>
</div>

<div class="panel panel-success" >
<div class="panel-heading">
    <h3 class="panel-title">Spaceship Response</h3>
  </div>
<div class="panel-body" id="result">
</div>
</div>
<script>

	var buttons = {
	  '#on': '49',
	  '#sound': '51',
      '#lights': '61',
      '#fuel': '53',
      '#oxygen': '55',
      '#right-engine': 59,
      '#right-engine-release': 60,
      '#left-engine': 57,
      '#left-engine-release': 58,
	  '#up': 63,
	  '#down': 65,
      '#stop-engines': 1,
	  '#refresh': 1
    };

	for(var key in buttons) {

//
	
	$(key).on('click', function(e){
		// preventing default click action
		e.preventDefault(); 
	  
		// Delete the last result text
		$('#result').html("");

       // alert(buttons['#' + this.id]);
		var id = buttons['#' + this.id];
        var data = 'cmd_type=' + id + '&cmd_id=0&data=0';
		
		$('#result').html("aa");
		$.ajax({
			url:'/',
			type: 'get',
			data: data,
			success: function (response) {
				// Write the response as is
			  $('#result').html(response);
			  	// Update the fuel and oxygen values


			}, error: function (response) {
			  $('#result').html("Error in AJAX call");
			},
		});
	});
	}
	
	
	
</script>

</div>
</div>

</body>
</html>
